<div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow">
  <div class="flex items-start">
    <div class="mr-3 text-indigo-600">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getDocumentIcon()" />
      </svg>
    </div>
    <div class="flex-1">
      <h3 class="text-md font-semibold text-gray-800 truncate">{{ document.title }}</h3>
      <p class="text-xs text-gray-500 mt-1">
        Modifié le {{ formatDate(document.updated_at) }}
      </p>
    </div>

    @if (document.collaborators && document.collaborators.length > 0) {
      <div class="flex -space-x-2">
        @for (collaborator of document.collaborators.slice(0, 3); track collaborator.id) {
          <div class="w-6 h-6 rounded-full bg-indigo-100 border border-white flex items-center justify-center text-xs text-indigo-800 overflow-hidden">
            @if (collaborator.profile_picture) {
              <img [src]="collaborator.profile_picture" alt="Collaborator" class="w-full h-full object-cover">
            } @else {
              {{ collaborator.username?.charAt(0) || 'U' }}
            }
          </div>
        }
        @if (document.collaborators.length > 3) {
          <div class="w-6 h-6 rounded-full bg-indigo-500 border border-white flex items-center justify-center text-xs text-white">
            +{{ document.collaborators.length - 3 }}
          </div>
        }
      </div>
    }
  </div>

  <div class="mt-3 flex justify-between items-center">
    <div class="text-xs text-gray-500">
      @if (document.is_folder) {
        Dossier
      } @else {
        @if (document.file_size) {
          {{ (document.file_size / 1024).toFixed(1) }} KB
        } @else {
          0.0 KB
        }
      }
    </div>

    <div class="flex space-x-2">
      <a [routerLink]="['/documents', document.id]" class="text-indigo-600 hover:text-indigo-800 text-xs font-medium transition-colors">
        Éditer
      </a>
    </div>
  </div>
</div>
